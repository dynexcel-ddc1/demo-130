<odoo>
  <data>
      
      <record id="kra_group_action" model="ir.actions.act_window">
        <field name="name">KRA Group</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">hr.kra.group</field>
        <field name="view_mode">tree,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create a new KRA Group
            </p>
        </field>
    </record>
      
      
      <!-- KRA List Form-->
    <record id="kra_form_view" model="ir.ui.view">
        <field name="name">kra.form.view</field>
        <field name="model">hr.kra</field>
        <field name="arch" type="xml">
            <form string="kra">
                <sheet>
                    <div class="oe_title">
		                	<h1>
	                            <field name="name"/>
	                        </h1>
                        <h3><field name="kra_group_id" options="{'no_create':true, 'no_open':true}"/></h3>
		                </div>
                    <group col="2">
                          <field name="is_task"/>
                    </group>
                    <notebook>
                        <page name="kra_items" string="Values">
                           <field name="kra_line">
                                <tree editable="bottom" >
                                        <field name="name"/>
                                        <field name="score"/>
                                  
                                </tree>
                            </field>
                        </page>
                        
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>
      

      <record id="kra_list_action" model="ir.actions.act_window">
        <field name="name">KRA List</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">hr.kra</field>
        <field name="view_mode">tree,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create a new KRA List
            </p>
        </field>
    </record>
      
      
      <!-- Employee KRA Form-->
    <record id="employee_kra_form_view" model="ir.ui.view">
        <field name="name">employee.kra.form.view</field>
        <field name="model">hr.employee.kra.line</field>
        <field name="arch" type="xml">
            <form string="kra">
                <sheet>
                    <group col="4">
                        <field name="kra_date"/>
                        <field name="kra_id" domain="[('is_task', '!=', True)]" />
                        <field name="kra_line_id"/>
                        <field name="score"/>
                        <field name="name"/>
                        <field name="employee_id" readonly="0"/>
                        <field name="manager_id" readonly="1"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>
      
     <record id="employee_kra_tree_view" model="ir.ui.view">
            <field name="name">employee.kra.tree.view</field>
            <field name="model">hr.employee.kra.line</field>
            <field name="priority" eval="20"/>
            <field name="arch" type="xml">
                <tree string="Employee KRAs">
                    <field name="kra_date"/>
                    <field name="kra_id"/>
                    <field name="kra_line_id"/>
                    <field name="score"/>
                    <field name="name"/>
                    <field name="employee_id"/>
                    <field name="manager_id"/>
                </tree>
            </field>
        </record>  
      
      
      
      <record id="employee_kra_entries_action" model="ir.actions.act_window">
        <field name="name">Employee KRA</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">hr.employee.kra.line</field>
        <field name="view_mode">tree</field>
          <field name="domain">[('task_id','=',False)]</field>
          <field name="view_id" ref="employee_kra_tree_view"/>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create a Employee KRA Entry
            </p>
        </field>
    </record>
      
      <record id="employee_kra_action" model="ir.actions.act_window">
        <field name="name">Employee KRA</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">hr.employee.kra.line</field>
        <field name="view_mode">tree</field>
          <field name="domain">[('task_id','=',False)]</field>
          <field name="view_id" ref="employee_kra_tree_view"/>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create a Employee KRA Entry
            </p>
        </field>
    </record>
      
      
      <menuitem id="menu_kra_configuration" parent="hr.menu_human_resources_configuration" name="KRA" sequence="600"/>
      <menuitem id="menu_kra_group" name="KRA Group" parent="menu_kra_configuration" action="kra_group_action" groups="hr.group_hr_user"/>
      <menuitem id="menu_kra_items" name="KRA Items" parent="menu_kra_configuration" action="kra_list_action" groups="hr.group_hr_user"/>
      
      <menuitem id="menu_hr_kra" parent="hr.menu_hr_root" name="KRA" sequence="30"/>
      <menuitem id="menu_hr_employee_kra" name="KRA" parent="menu_hr_kra" action="employee_kra_action" groups="hr.group_hr_user"/>
      <menuitem id="menu_hr_employee_kra_entries" name="KRA Entries" parent="menu_hr_kra" action="employee_kra_entries_action" groups="hr.group_hr_user"/>
      
      
  </data>
</odoo>
